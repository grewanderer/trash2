# OpenWISP-Go — пример конфигурации

server:
  address: "0.0.0.0"   # где слушать HTTP
  http_port: "8080"    # порт HTTP

logs:
  level: info      # trace|debug|info|warning|error|fatal
  format: text     # text|json
  file: ""         # если указать путь/префикс, логи пойдут и в файл

database:
  driver: "mysql"
  dsn:  "root@tcp(127.0.0.1:3306)/owgo?parseTime=true&charset=utf8mb4&collation=utf8mb4_unicode_ci&loc=Local"

openwisp:
  # секрет для OpenWISP API, который будет использоваться для подписи запросов
  # и проверки подписи ответов
  # можно сгенерировать с помощью openssl rand -base64 32
  shared_secret: "dev_secret"
  controller:
    pki:
      ca_name: "OpenWISP-Go-CA"
      cert_ttl: "8760h"         # 1 год
    mgmtVPN:
      mode: "none"             # "wireguard"|"openvpn"|"zerotier"|"none"
      wireguard:
        endpoint: "vpn.example.com:51820"
        server_public_key: "SERVER_PUB_KEY"
        address_pool_cidr: "10.10.0.0/24"
        allowed_ips: ["10.10.0.0/24"]
        keepalive: 25
      openvpn:
        remote: "vpn.example.com"
        port: 1194
        proto: "udp"
        cipher: "AES-256-GCM"
        auth: "SHA256"
      zeroTier:
        networkid: "8056c2e21c000001"

controller:
  # место, где позже будут лежать шаблоны конфигураций (если выберем файловый бэкенд)
  templates_dir: "./templates"
  allow_insecure_http: true  # оставить true для локальной разработки без TLS

ssh:
  enabled: false
  user: "root"
  private_key_path: "/etc/openwisp-go/ssh/id_ed25519"

ipam:
  # примеры подсетей для автопула, когда будем подключать IPAM
  default_ipv4_prefix: "10.100.0.0/16"
  default_ipv6_prefix: "fd00:100::/48"

pki:
  enabled: false
  ca_dir: "/etc/openwisp-go/pki"

radius:
  enabled: false
  dsn: "postgres://user:pass@localhost/radius"
